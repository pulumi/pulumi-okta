// *** WARNING: this file was generated by the Pulumi Terraform Bridge (tfgen) Tool. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

package okta

import (
	"context"
	"reflect"

	"github.com/pkg/errors"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// > **WARNING:** This feature is only available as a part of the Identity Engine. Contact support for further information.
//
// This resource allows you to configure different authenticators.
//
// > **NOTE:** An authenticator can only be deleted if it's not in use by any policy.
//
// ## Example Usage
//
// ```go
// package main
//
// import (
// 	"encoding/json"
//
// 	"github.com/pulumi/pulumi-okta/sdk/v3/go/okta"
// 	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
// )
//
// func main() {
// 	pulumi.Run(func(ctx *pulumi.Context) error {
// 		tmpJSON0, err := json.Marshal(map[string]interface{}{
// 			"allowedFor": "recovery",
// 		})
// 		if err != nil {
// 			return err
// 		}
// 		json0 := string(tmpJSON0)
// 		_, err := okta.NewAuthenticator(ctx, "test", &okta.AuthenticatorArgs{
// 			Key:      pulumi.String("security_question"),
// 			Settings: pulumi.String(json0),
// 		})
// 		if err != nil {
// 			return err
// 		}
// 		return nil
// 	})
// }
// ```
//
// ## Import
//
// Okta authenticator can be imported via the Okta ID.
//
// ```sh
//  $ pulumi import okta:index/authenticator:Authenticator example <authenticator_id>
// ```
type Authenticator struct {
	pulumi.CustomResourceState

	// A human-readable string that identifies the authenticator. Possible values inclue: `"duo"`, `"externalIdp"`, `"googleOtp"`, `"oktaEmail"`, `"oktaPassword"`, `"oktaVerify"`, `"onpremMfa"`, `"phoneNumber"`, `"rsaToken"`, `"securityQuestion"`, `"webauthn"`, and `"yubikeyToken"`.
	Key pulumi.StringOutput `pulumi:"key"`
	// Name of the authenticator.
	Name pulumi.StringOutput `pulumi:"name"`
	// The RADIUS server port (for example 1812). This is defined when the On-Prem RADIUS server is configured. Default is `9000`. Used only for authenticators with type `"securityKey"`.
	ProviderAuthPort pulumi.IntPtrOutput `pulumi:"providerAuthPort"`
	// Server host name or IP address. Default is `"localhost"`. Used only for authenticators with type `"securityKey"`.
	ProviderHostname pulumi.StringPtrOutput `pulumi:"providerHostname"`
	// App Instance ID.
	ProviderInstanceId pulumi.StringOutput `pulumi:"providerInstanceId"`
	// An authentication key that must be defined when the RADIUS server is configured, and must be the same on both the RADIUS client and server. Used only for authenticators with type `"securityKey"`.
	ProviderSharedSecret pulumi.StringPtrOutput `pulumi:"providerSharedSecret"`
	// The type of Authenticator. Values include: `"password"`, `"securityQuestion"`, `"phone"`, `"email"`, `"app"`, `"federated"`, and `"securityKey"`.
	ProviderType pulumi.StringOutput `pulumi:"providerType"`
	// Username template expected by the provider. Used only for authenticators with type `"securityKey"`.
	ProviderUserNameTemplate pulumi.StringPtrOutput `pulumi:"providerUserNameTemplate"`
	// Settings for the authenticator. Settings object contains values based on Authenticator key. It is not used for authenticators with type `"securityKey"`.
	Settings pulumi.StringPtrOutput `pulumi:"settings"`
	// Status of the authenticator. Default is `ACTIVE`.
	Status pulumi.StringPtrOutput `pulumi:"status"`
	// Type of the Authenticator.
	Type pulumi.StringOutput `pulumi:"type"`
}

// NewAuthenticator registers a new resource with the given unique name, arguments, and options.
func NewAuthenticator(ctx *pulumi.Context,
	name string, args *AuthenticatorArgs, opts ...pulumi.ResourceOption) (*Authenticator, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.Key == nil {
		return nil, errors.New("invalid value for required argument 'Key'")
	}
	var resource Authenticator
	err := ctx.RegisterResource("okta:index/authenticator:Authenticator", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetAuthenticator gets an existing Authenticator resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetAuthenticator(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *AuthenticatorState, opts ...pulumi.ResourceOption) (*Authenticator, error) {
	var resource Authenticator
	err := ctx.ReadResource("okta:index/authenticator:Authenticator", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering Authenticator resources.
type authenticatorState struct {
	// A human-readable string that identifies the authenticator. Possible values inclue: `"duo"`, `"externalIdp"`, `"googleOtp"`, `"oktaEmail"`, `"oktaPassword"`, `"oktaVerify"`, `"onpremMfa"`, `"phoneNumber"`, `"rsaToken"`, `"securityQuestion"`, `"webauthn"`, and `"yubikeyToken"`.
	Key *string `pulumi:"key"`
	// Name of the authenticator.
	Name *string `pulumi:"name"`
	// The RADIUS server port (for example 1812). This is defined when the On-Prem RADIUS server is configured. Default is `9000`. Used only for authenticators with type `"securityKey"`.
	ProviderAuthPort *int `pulumi:"providerAuthPort"`
	// Server host name or IP address. Default is `"localhost"`. Used only for authenticators with type `"securityKey"`.
	ProviderHostname *string `pulumi:"providerHostname"`
	// App Instance ID.
	ProviderInstanceId *string `pulumi:"providerInstanceId"`
	// An authentication key that must be defined when the RADIUS server is configured, and must be the same on both the RADIUS client and server. Used only for authenticators with type `"securityKey"`.
	ProviderSharedSecret *string `pulumi:"providerSharedSecret"`
	// The type of Authenticator. Values include: `"password"`, `"securityQuestion"`, `"phone"`, `"email"`, `"app"`, `"federated"`, and `"securityKey"`.
	ProviderType *string `pulumi:"providerType"`
	// Username template expected by the provider. Used only for authenticators with type `"securityKey"`.
	ProviderUserNameTemplate *string `pulumi:"providerUserNameTemplate"`
	// Settings for the authenticator. Settings object contains values based on Authenticator key. It is not used for authenticators with type `"securityKey"`.
	Settings *string `pulumi:"settings"`
	// Status of the authenticator. Default is `ACTIVE`.
	Status *string `pulumi:"status"`
	// Type of the Authenticator.
	Type *string `pulumi:"type"`
}

type AuthenticatorState struct {
	// A human-readable string that identifies the authenticator. Possible values inclue: `"duo"`, `"externalIdp"`, `"googleOtp"`, `"oktaEmail"`, `"oktaPassword"`, `"oktaVerify"`, `"onpremMfa"`, `"phoneNumber"`, `"rsaToken"`, `"securityQuestion"`, `"webauthn"`, and `"yubikeyToken"`.
	Key pulumi.StringPtrInput
	// Name of the authenticator.
	Name pulumi.StringPtrInput
	// The RADIUS server port (for example 1812). This is defined when the On-Prem RADIUS server is configured. Default is `9000`. Used only for authenticators with type `"securityKey"`.
	ProviderAuthPort pulumi.IntPtrInput
	// Server host name or IP address. Default is `"localhost"`. Used only for authenticators with type `"securityKey"`.
	ProviderHostname pulumi.StringPtrInput
	// App Instance ID.
	ProviderInstanceId pulumi.StringPtrInput
	// An authentication key that must be defined when the RADIUS server is configured, and must be the same on both the RADIUS client and server. Used only for authenticators with type `"securityKey"`.
	ProviderSharedSecret pulumi.StringPtrInput
	// The type of Authenticator. Values include: `"password"`, `"securityQuestion"`, `"phone"`, `"email"`, `"app"`, `"federated"`, and `"securityKey"`.
	ProviderType pulumi.StringPtrInput
	// Username template expected by the provider. Used only for authenticators with type `"securityKey"`.
	ProviderUserNameTemplate pulumi.StringPtrInput
	// Settings for the authenticator. Settings object contains values based on Authenticator key. It is not used for authenticators with type `"securityKey"`.
	Settings pulumi.StringPtrInput
	// Status of the authenticator. Default is `ACTIVE`.
	Status pulumi.StringPtrInput
	// Type of the Authenticator.
	Type pulumi.StringPtrInput
}

func (AuthenticatorState) ElementType() reflect.Type {
	return reflect.TypeOf((*authenticatorState)(nil)).Elem()
}

type authenticatorArgs struct {
	// A human-readable string that identifies the authenticator. Possible values inclue: `"duo"`, `"externalIdp"`, `"googleOtp"`, `"oktaEmail"`, `"oktaPassword"`, `"oktaVerify"`, `"onpremMfa"`, `"phoneNumber"`, `"rsaToken"`, `"securityQuestion"`, `"webauthn"`, and `"yubikeyToken"`.
	Key string `pulumi:"key"`
	// Name of the authenticator.
	Name *string `pulumi:"name"`
	// The RADIUS server port (for example 1812). This is defined when the On-Prem RADIUS server is configured. Default is `9000`. Used only for authenticators with type `"securityKey"`.
	ProviderAuthPort *int `pulumi:"providerAuthPort"`
	// Server host name or IP address. Default is `"localhost"`. Used only for authenticators with type `"securityKey"`.
	ProviderHostname *string `pulumi:"providerHostname"`
	// An authentication key that must be defined when the RADIUS server is configured, and must be the same on both the RADIUS client and server. Used only for authenticators with type `"securityKey"`.
	ProviderSharedSecret *string `pulumi:"providerSharedSecret"`
	// Username template expected by the provider. Used only for authenticators with type `"securityKey"`.
	ProviderUserNameTemplate *string `pulumi:"providerUserNameTemplate"`
	// Settings for the authenticator. Settings object contains values based on Authenticator key. It is not used for authenticators with type `"securityKey"`.
	Settings *string `pulumi:"settings"`
	// Status of the authenticator. Default is `ACTIVE`.
	Status *string `pulumi:"status"`
}

// The set of arguments for constructing a Authenticator resource.
type AuthenticatorArgs struct {
	// A human-readable string that identifies the authenticator. Possible values inclue: `"duo"`, `"externalIdp"`, `"googleOtp"`, `"oktaEmail"`, `"oktaPassword"`, `"oktaVerify"`, `"onpremMfa"`, `"phoneNumber"`, `"rsaToken"`, `"securityQuestion"`, `"webauthn"`, and `"yubikeyToken"`.
	Key pulumi.StringInput
	// Name of the authenticator.
	Name pulumi.StringPtrInput
	// The RADIUS server port (for example 1812). This is defined when the On-Prem RADIUS server is configured. Default is `9000`. Used only for authenticators with type `"securityKey"`.
	ProviderAuthPort pulumi.IntPtrInput
	// Server host name or IP address. Default is `"localhost"`. Used only for authenticators with type `"securityKey"`.
	ProviderHostname pulumi.StringPtrInput
	// An authentication key that must be defined when the RADIUS server is configured, and must be the same on both the RADIUS client and server. Used only for authenticators with type `"securityKey"`.
	ProviderSharedSecret pulumi.StringPtrInput
	// Username template expected by the provider. Used only for authenticators with type `"securityKey"`.
	ProviderUserNameTemplate pulumi.StringPtrInput
	// Settings for the authenticator. Settings object contains values based on Authenticator key. It is not used for authenticators with type `"securityKey"`.
	Settings pulumi.StringPtrInput
	// Status of the authenticator. Default is `ACTIVE`.
	Status pulumi.StringPtrInput
}

func (AuthenticatorArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*authenticatorArgs)(nil)).Elem()
}

type AuthenticatorInput interface {
	pulumi.Input

	ToAuthenticatorOutput() AuthenticatorOutput
	ToAuthenticatorOutputWithContext(ctx context.Context) AuthenticatorOutput
}

func (*Authenticator) ElementType() reflect.Type {
	return reflect.TypeOf((**Authenticator)(nil)).Elem()
}

func (i *Authenticator) ToAuthenticatorOutput() AuthenticatorOutput {
	return i.ToAuthenticatorOutputWithContext(context.Background())
}

func (i *Authenticator) ToAuthenticatorOutputWithContext(ctx context.Context) AuthenticatorOutput {
	return pulumi.ToOutputWithContext(ctx, i).(AuthenticatorOutput)
}

// AuthenticatorArrayInput is an input type that accepts AuthenticatorArray and AuthenticatorArrayOutput values.
// You can construct a concrete instance of `AuthenticatorArrayInput` via:
//
//          AuthenticatorArray{ AuthenticatorArgs{...} }
type AuthenticatorArrayInput interface {
	pulumi.Input

	ToAuthenticatorArrayOutput() AuthenticatorArrayOutput
	ToAuthenticatorArrayOutputWithContext(context.Context) AuthenticatorArrayOutput
}

type AuthenticatorArray []AuthenticatorInput

func (AuthenticatorArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*Authenticator)(nil)).Elem()
}

func (i AuthenticatorArray) ToAuthenticatorArrayOutput() AuthenticatorArrayOutput {
	return i.ToAuthenticatorArrayOutputWithContext(context.Background())
}

func (i AuthenticatorArray) ToAuthenticatorArrayOutputWithContext(ctx context.Context) AuthenticatorArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(AuthenticatorArrayOutput)
}

// AuthenticatorMapInput is an input type that accepts AuthenticatorMap and AuthenticatorMapOutput values.
// You can construct a concrete instance of `AuthenticatorMapInput` via:
//
//          AuthenticatorMap{ "key": AuthenticatorArgs{...} }
type AuthenticatorMapInput interface {
	pulumi.Input

	ToAuthenticatorMapOutput() AuthenticatorMapOutput
	ToAuthenticatorMapOutputWithContext(context.Context) AuthenticatorMapOutput
}

type AuthenticatorMap map[string]AuthenticatorInput

func (AuthenticatorMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*Authenticator)(nil)).Elem()
}

func (i AuthenticatorMap) ToAuthenticatorMapOutput() AuthenticatorMapOutput {
	return i.ToAuthenticatorMapOutputWithContext(context.Background())
}

func (i AuthenticatorMap) ToAuthenticatorMapOutputWithContext(ctx context.Context) AuthenticatorMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(AuthenticatorMapOutput)
}

type AuthenticatorOutput struct{ *pulumi.OutputState }

func (AuthenticatorOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**Authenticator)(nil)).Elem()
}

func (o AuthenticatorOutput) ToAuthenticatorOutput() AuthenticatorOutput {
	return o
}

func (o AuthenticatorOutput) ToAuthenticatorOutputWithContext(ctx context.Context) AuthenticatorOutput {
	return o
}

type AuthenticatorArrayOutput struct{ *pulumi.OutputState }

func (AuthenticatorArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*Authenticator)(nil)).Elem()
}

func (o AuthenticatorArrayOutput) ToAuthenticatorArrayOutput() AuthenticatorArrayOutput {
	return o
}

func (o AuthenticatorArrayOutput) ToAuthenticatorArrayOutputWithContext(ctx context.Context) AuthenticatorArrayOutput {
	return o
}

func (o AuthenticatorArrayOutput) Index(i pulumi.IntInput) AuthenticatorOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *Authenticator {
		return vs[0].([]*Authenticator)[vs[1].(int)]
	}).(AuthenticatorOutput)
}

type AuthenticatorMapOutput struct{ *pulumi.OutputState }

func (AuthenticatorMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*Authenticator)(nil)).Elem()
}

func (o AuthenticatorMapOutput) ToAuthenticatorMapOutput() AuthenticatorMapOutput {
	return o
}

func (o AuthenticatorMapOutput) ToAuthenticatorMapOutputWithContext(ctx context.Context) AuthenticatorMapOutput {
	return o
}

func (o AuthenticatorMapOutput) MapIndex(k pulumi.StringInput) AuthenticatorOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *Authenticator {
		return vs[0].(map[string]*Authenticator)[vs[1].(string)]
	}).(AuthenticatorOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*AuthenticatorInput)(nil)).Elem(), &Authenticator{})
	pulumi.RegisterInputType(reflect.TypeOf((*AuthenticatorArrayInput)(nil)).Elem(), AuthenticatorArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*AuthenticatorMapInput)(nil)).Elem(), AuthenticatorMap{})
	pulumi.RegisterOutputType(AuthenticatorOutput{})
	pulumi.RegisterOutputType(AuthenticatorArrayOutput{})
	pulumi.RegisterOutputType(AuthenticatorMapOutput{})
}
