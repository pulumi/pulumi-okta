// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package okta

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-okta/sdk/v6/go/okta/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Resource to manage the assignment and unassignment of Custom Roles
// These operations allow the creation and manipulation of custom roles as custom collections of permissions.
//
// > **NOTE:** This an Early Access feature.
//
// ## Example Usage
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-okta/sdk/v6/go/okta"
//	"github.com/pulumi/pulumi-okta/sdk/v6/go/okta/app"
//	"github.com/pulumi/pulumi-okta/sdk/v6/go/okta/group"
//	"github.com/pulumi/pulumi-okta/sdk/v6/go/okta/user"
//	"github.com/pulumi/pulumi-std/sdk/go/std"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			orgUrl := "https://mycompany.okta.com"
//			test, err := okta.NewAdminRoleCustom(ctx, "test", &okta.AdminRoleCustomArgs{
//				Label:       pulumi.String("SomeUsersAndApps"),
//				Description: pulumi.String("Manage apps assignments and users"),
//				Permissions: pulumi.StringArray{
//					pulumi.String("okta.apps.assignment.manage"),
//					pulumi.String("okta.users.manage"),
//					pulumi.String("okta.apps.manage"),
//				},
//			})
//			if err != nil {
//				return err
//			}
//			testSwa, err := app.NewSwa(ctx, "test", &app.SwaArgs{
//				Label:         pulumi.String("My SWA App"),
//				ButtonField:   pulumi.String("btn-login"),
//				PasswordField: pulumi.String("txtbox-password"),
//				UsernameField: pulumi.String("txtbox-username"),
//				Url:           pulumi.String("https://example.com/login.html"),
//			})
//			if err != nil {
//				return err
//			}
//			invokeFormat, err := std.Format(ctx, map[string]interface{}{
//				"input": "%s/api/v1/users",
//				"args": []string{
//					orgUrl,
//				},
//			}, nil)
//			if err != nil {
//				return err
//			}
//			invokeFormat1, err := std.Format(ctx, map[string]interface{}{
//				"input": "%s/api/v1/apps/%s",
//				"args": []interface{}{
//					orgUrl,
//					testSwa.ID(),
//				},
//			}, nil)
//			if err != nil {
//				return err
//			}
//			testResourceSet, err := okta.NewResourceSet(ctx, "test", &okta.ResourceSetArgs{
//				Label:       pulumi.String("UsersWithApp"),
//				Description: pulumi.String("All the users and SWA app"),
//				Resources: pulumi.StringArray{
//					invokeFormat.Result,
//					invokeFormat1.Result,
//				},
//			})
//			if err != nil {
//				return err
//			}
//			// this user will have `CUSTOM` role assigned, but it won't appear in the `admin_roles` for that user,
//			// since direct assignment of custom roles is not allowed
//			testUser, err := user.NewUser(ctx, "test", &user.UserArgs{
//				FirstName: pulumi.String("Paul"),
//				LastName:  pulumi.String("Atreides"),
//				Login:     pulumi.String("no-reply@caladan.planet"),
//				Email:     pulumi.String("no-reply@caladan.planet"),
//			})
//			if err != nil {
//				return err
//			}
//			testGroup, err := group.NewGroup(ctx, "test", &group.GroupArgs{
//				Name:        pulumi.String("General"),
//				Description: pulumi.String("General Group"),
//			})
//			if err != nil {
//				return err
//			}
//			invokeFormat2, err := std.Format(ctx, map[string]interface{}{
//				"input": "%s/api/v1/users/%s",
//				"args": []interface{}{
//					orgUrl,
//					testUser.ID(),
//				},
//			}, nil)
//			if err != nil {
//				return err
//			}
//			invokeFormat3, err := std.Format(ctx, map[string]interface{}{
//				"input": "%s/api/v1/groups/%s",
//				"args": []interface{}{
//					orgUrl,
//					testGroup.ID(),
//				},
//			}, nil)
//			if err != nil {
//				return err
//			}
//			// this user and group will manage the set of resources based on the permissions specified in the custom role
//			_, err = okta.NewAdminRoleCustomAssignments(ctx, "test", &okta.AdminRoleCustomAssignmentsArgs{
//				ResourceSetId: testResourceSet.ID(),
//				CustomRoleId:  test.ID(),
//				Members: pulumi.StringArray{
//					invokeFormat2.Result,
//					invokeFormat3.Result,
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// ```sh
// $ pulumi import okta:index/adminRoleCustomAssignments:AdminRoleCustomAssignments example <resource_set_id>/<custom_role_id>
// ```
type AdminRoleCustomAssignments struct {
	pulumi.CustomResourceState

	// ID of the Custom Role
	CustomRoleId pulumi.StringOutput `pulumi:"customRoleId"`
	// The hrefs that point to User(s) and/or Group(s) that receive the Role
	Members pulumi.StringArrayOutput `pulumi:"members"`
	// ID of the target Resource Set
	ResourceSetId pulumi.StringOutput `pulumi:"resourceSetId"`
}

// NewAdminRoleCustomAssignments registers a new resource with the given unique name, arguments, and options.
func NewAdminRoleCustomAssignments(ctx *pulumi.Context,
	name string, args *AdminRoleCustomAssignmentsArgs, opts ...pulumi.ResourceOption) (*AdminRoleCustomAssignments, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.CustomRoleId == nil {
		return nil, errors.New("invalid value for required argument 'CustomRoleId'")
	}
	if args.ResourceSetId == nil {
		return nil, errors.New("invalid value for required argument 'ResourceSetId'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource AdminRoleCustomAssignments
	err := ctx.RegisterResource("okta:index/adminRoleCustomAssignments:AdminRoleCustomAssignments", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetAdminRoleCustomAssignments gets an existing AdminRoleCustomAssignments resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetAdminRoleCustomAssignments(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *AdminRoleCustomAssignmentsState, opts ...pulumi.ResourceOption) (*AdminRoleCustomAssignments, error) {
	var resource AdminRoleCustomAssignments
	err := ctx.ReadResource("okta:index/adminRoleCustomAssignments:AdminRoleCustomAssignments", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering AdminRoleCustomAssignments resources.
type adminRoleCustomAssignmentsState struct {
	// ID of the Custom Role
	CustomRoleId *string `pulumi:"customRoleId"`
	// The hrefs that point to User(s) and/or Group(s) that receive the Role
	Members []string `pulumi:"members"`
	// ID of the target Resource Set
	ResourceSetId *string `pulumi:"resourceSetId"`
}

type AdminRoleCustomAssignmentsState struct {
	// ID of the Custom Role
	CustomRoleId pulumi.StringPtrInput
	// The hrefs that point to User(s) and/or Group(s) that receive the Role
	Members pulumi.StringArrayInput
	// ID of the target Resource Set
	ResourceSetId pulumi.StringPtrInput
}

func (AdminRoleCustomAssignmentsState) ElementType() reflect.Type {
	return reflect.TypeOf((*adminRoleCustomAssignmentsState)(nil)).Elem()
}

type adminRoleCustomAssignmentsArgs struct {
	// ID of the Custom Role
	CustomRoleId string `pulumi:"customRoleId"`
	// The hrefs that point to User(s) and/or Group(s) that receive the Role
	Members []string `pulumi:"members"`
	// ID of the target Resource Set
	ResourceSetId string `pulumi:"resourceSetId"`
}

// The set of arguments for constructing a AdminRoleCustomAssignments resource.
type AdminRoleCustomAssignmentsArgs struct {
	// ID of the Custom Role
	CustomRoleId pulumi.StringInput
	// The hrefs that point to User(s) and/or Group(s) that receive the Role
	Members pulumi.StringArrayInput
	// ID of the target Resource Set
	ResourceSetId pulumi.StringInput
}

func (AdminRoleCustomAssignmentsArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*adminRoleCustomAssignmentsArgs)(nil)).Elem()
}

type AdminRoleCustomAssignmentsInput interface {
	pulumi.Input

	ToAdminRoleCustomAssignmentsOutput() AdminRoleCustomAssignmentsOutput
	ToAdminRoleCustomAssignmentsOutputWithContext(ctx context.Context) AdminRoleCustomAssignmentsOutput
}

func (*AdminRoleCustomAssignments) ElementType() reflect.Type {
	return reflect.TypeOf((**AdminRoleCustomAssignments)(nil)).Elem()
}

func (i *AdminRoleCustomAssignments) ToAdminRoleCustomAssignmentsOutput() AdminRoleCustomAssignmentsOutput {
	return i.ToAdminRoleCustomAssignmentsOutputWithContext(context.Background())
}

func (i *AdminRoleCustomAssignments) ToAdminRoleCustomAssignmentsOutputWithContext(ctx context.Context) AdminRoleCustomAssignmentsOutput {
	return pulumi.ToOutputWithContext(ctx, i).(AdminRoleCustomAssignmentsOutput)
}

// AdminRoleCustomAssignmentsArrayInput is an input type that accepts AdminRoleCustomAssignmentsArray and AdminRoleCustomAssignmentsArrayOutput values.
// You can construct a concrete instance of `AdminRoleCustomAssignmentsArrayInput` via:
//
//	AdminRoleCustomAssignmentsArray{ AdminRoleCustomAssignmentsArgs{...} }
type AdminRoleCustomAssignmentsArrayInput interface {
	pulumi.Input

	ToAdminRoleCustomAssignmentsArrayOutput() AdminRoleCustomAssignmentsArrayOutput
	ToAdminRoleCustomAssignmentsArrayOutputWithContext(context.Context) AdminRoleCustomAssignmentsArrayOutput
}

type AdminRoleCustomAssignmentsArray []AdminRoleCustomAssignmentsInput

func (AdminRoleCustomAssignmentsArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*AdminRoleCustomAssignments)(nil)).Elem()
}

func (i AdminRoleCustomAssignmentsArray) ToAdminRoleCustomAssignmentsArrayOutput() AdminRoleCustomAssignmentsArrayOutput {
	return i.ToAdminRoleCustomAssignmentsArrayOutputWithContext(context.Background())
}

func (i AdminRoleCustomAssignmentsArray) ToAdminRoleCustomAssignmentsArrayOutputWithContext(ctx context.Context) AdminRoleCustomAssignmentsArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(AdminRoleCustomAssignmentsArrayOutput)
}

// AdminRoleCustomAssignmentsMapInput is an input type that accepts AdminRoleCustomAssignmentsMap and AdminRoleCustomAssignmentsMapOutput values.
// You can construct a concrete instance of `AdminRoleCustomAssignmentsMapInput` via:
//
//	AdminRoleCustomAssignmentsMap{ "key": AdminRoleCustomAssignmentsArgs{...} }
type AdminRoleCustomAssignmentsMapInput interface {
	pulumi.Input

	ToAdminRoleCustomAssignmentsMapOutput() AdminRoleCustomAssignmentsMapOutput
	ToAdminRoleCustomAssignmentsMapOutputWithContext(context.Context) AdminRoleCustomAssignmentsMapOutput
}

type AdminRoleCustomAssignmentsMap map[string]AdminRoleCustomAssignmentsInput

func (AdminRoleCustomAssignmentsMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*AdminRoleCustomAssignments)(nil)).Elem()
}

func (i AdminRoleCustomAssignmentsMap) ToAdminRoleCustomAssignmentsMapOutput() AdminRoleCustomAssignmentsMapOutput {
	return i.ToAdminRoleCustomAssignmentsMapOutputWithContext(context.Background())
}

func (i AdminRoleCustomAssignmentsMap) ToAdminRoleCustomAssignmentsMapOutputWithContext(ctx context.Context) AdminRoleCustomAssignmentsMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(AdminRoleCustomAssignmentsMapOutput)
}

type AdminRoleCustomAssignmentsOutput struct{ *pulumi.OutputState }

func (AdminRoleCustomAssignmentsOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**AdminRoleCustomAssignments)(nil)).Elem()
}

func (o AdminRoleCustomAssignmentsOutput) ToAdminRoleCustomAssignmentsOutput() AdminRoleCustomAssignmentsOutput {
	return o
}

func (o AdminRoleCustomAssignmentsOutput) ToAdminRoleCustomAssignmentsOutputWithContext(ctx context.Context) AdminRoleCustomAssignmentsOutput {
	return o
}

// ID of the Custom Role
func (o AdminRoleCustomAssignmentsOutput) CustomRoleId() pulumi.StringOutput {
	return o.ApplyT(func(v *AdminRoleCustomAssignments) pulumi.StringOutput { return v.CustomRoleId }).(pulumi.StringOutput)
}

// The hrefs that point to User(s) and/or Group(s) that receive the Role
func (o AdminRoleCustomAssignmentsOutput) Members() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *AdminRoleCustomAssignments) pulumi.StringArrayOutput { return v.Members }).(pulumi.StringArrayOutput)
}

// ID of the target Resource Set
func (o AdminRoleCustomAssignmentsOutput) ResourceSetId() pulumi.StringOutput {
	return o.ApplyT(func(v *AdminRoleCustomAssignments) pulumi.StringOutput { return v.ResourceSetId }).(pulumi.StringOutput)
}

type AdminRoleCustomAssignmentsArrayOutput struct{ *pulumi.OutputState }

func (AdminRoleCustomAssignmentsArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*AdminRoleCustomAssignments)(nil)).Elem()
}

func (o AdminRoleCustomAssignmentsArrayOutput) ToAdminRoleCustomAssignmentsArrayOutput() AdminRoleCustomAssignmentsArrayOutput {
	return o
}

func (o AdminRoleCustomAssignmentsArrayOutput) ToAdminRoleCustomAssignmentsArrayOutputWithContext(ctx context.Context) AdminRoleCustomAssignmentsArrayOutput {
	return o
}

func (o AdminRoleCustomAssignmentsArrayOutput) Index(i pulumi.IntInput) AdminRoleCustomAssignmentsOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *AdminRoleCustomAssignments {
		return vs[0].([]*AdminRoleCustomAssignments)[vs[1].(int)]
	}).(AdminRoleCustomAssignmentsOutput)
}

type AdminRoleCustomAssignmentsMapOutput struct{ *pulumi.OutputState }

func (AdminRoleCustomAssignmentsMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*AdminRoleCustomAssignments)(nil)).Elem()
}

func (o AdminRoleCustomAssignmentsMapOutput) ToAdminRoleCustomAssignmentsMapOutput() AdminRoleCustomAssignmentsMapOutput {
	return o
}

func (o AdminRoleCustomAssignmentsMapOutput) ToAdminRoleCustomAssignmentsMapOutputWithContext(ctx context.Context) AdminRoleCustomAssignmentsMapOutput {
	return o
}

func (o AdminRoleCustomAssignmentsMapOutput) MapIndex(k pulumi.StringInput) AdminRoleCustomAssignmentsOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *AdminRoleCustomAssignments {
		return vs[0].(map[string]*AdminRoleCustomAssignments)[vs[1].(string)]
	}).(AdminRoleCustomAssignmentsOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*AdminRoleCustomAssignmentsInput)(nil)).Elem(), &AdminRoleCustomAssignments{})
	pulumi.RegisterInputType(reflect.TypeOf((*AdminRoleCustomAssignmentsArrayInput)(nil)).Elem(), AdminRoleCustomAssignmentsArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*AdminRoleCustomAssignmentsMapInput)(nil)).Elem(), AdminRoleCustomAssignmentsMap{})
	pulumi.RegisterOutputType(AdminRoleCustomAssignmentsOutput{})
	pulumi.RegisterOutputType(AdminRoleCustomAssignmentsArrayOutput{})
	pulumi.RegisterOutputType(AdminRoleCustomAssignmentsMapOutput{})
}
