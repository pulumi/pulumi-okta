// *** WARNING: this file was generated by pulumi-language-nodejs. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

import * as pulumi from "@pulumi/pulumi";
import * as utilities from "./utilities";

/**
 * > **WARNING:** This feature is only available as a part of the Identity Engine. Contact support for further information.
 *
 * This resource allows you to configure different authenticators.
 *
 * > **Create:** The Okta API has an odd notion of create for authenticators. If
 * the authenticator doesn't exist then a one time 'POST /api/v1/authenticators' to
 * create the authenticator (hard create) will be performed. Thereafter, that
 * authenticator is never deleted, it is only deactivated (soft delete). Therefore,
 * if the authenticator already exists create is just a soft import of an existing
 * authenticator. This does not apply to customOtp and customApp authenticators.
 * There can be multiple customOtp authenticators. To create new customOtp
 * authenticator, a new name and key = customOtp is required. If an old name is
 * used, it will simply reactivate the old customOtp authenticator. For customApp
 * authenticators, legacyIgnoreName must be set to false.
 *
 * > **Update:** customOtp authenticator cannot be updated
 *
 * > **Delete:** Authenticators can not be truly deleted therefore delete is soft.
 * Delete will attempt to deativate the authenticator. An authenticator can only be
 * deactivated if it's not in use by any other policy.
 *
 * ## Example Usage
 *
 * ```typescript
 * import * as pulumi from "@pulumi/pulumi";
 * import * as okta from "@pulumi/okta";
 *
 * const test = new okta.Authenticator("test", {
 *     name: "Security Question",
 *     key: "security_question",
 *     settings: JSON.stringify({
 *         allowedFor: "recovery",
 *     }),
 * });
 * const otp = new okta.Authenticator("otp", {
 *     name: "Custom OTP",
 *     key: "custom_otp",
 *     status: "ACTIVE",
 *     settings: JSON.stringify({
 *         protocol: "TOTP",
 *         acceptableAdjacentIntervals: 3,
 *         timeIntervalInSeconds: 30,
 *         encoding: "base32",
 *         algorithm: "HMacSHA256",
 *         passCodeLength: 6,
 *     }),
 *     legacyIgnoreName: false,
 * });
 * const customApp = new okta.Authenticator("custom_app", {
 *     key: "custom_app",
 *     name: "Custom Push Auth",
 *     status: "ACTIVE",
 *     agreeToTerms: true,
 *     legacyIgnoreName: false,
 *     settings: JSON.stringify({
 *         userVerification: "REQUIRED",
 *         appInstanceId: "0oasontedmcepr0Uf1d7",
 *     }),
 *     providerJson: JSON.stringify({
 *         type: "PUSH",
 *         configuration: {
 *             fcm: {
 *                 id: "ppcrb12345678ABCDEF",
 *             },
 *         },
 *     }),
 * });
 * ```
 *
 * ## Import
 *
 * ```sh
 * $ pulumi import okta:index/authenticator:Authenticator example <authenticator_id>
 * ```
 */
export class Authenticator extends pulumi.CustomResource {
    /**
     * Get an existing Authenticator resource's state with the given name, ID, and optional extra
     * properties used to qualify the lookup.
     *
     * @param name The _unique_ name of the resulting resource.
     * @param id The _unique_ provider ID of the resource to lookup.
     * @param state Any extra arguments used during the lookup.
     * @param opts Optional settings to control the behavior of the CustomResource.
     */
    public static get(name: string, id: pulumi.Input<pulumi.ID>, state?: AuthenticatorState, opts?: pulumi.CustomResourceOptions): Authenticator {
        return new Authenticator(name, <any>state, { ...opts, id: id });
    }

    /** @internal */
    public static readonly __pulumiType = 'okta:index/authenticator:Authenticator';

    /**
     * Returns true if the given object is an instance of Authenticator.  This is designed to work even
     * when multiple copies of the Pulumi SDK have been loaded into the same process.
     */
    public static isInstance(obj: any): obj is Authenticator {
        if (obj === undefined || obj === null) {
            return false;
        }
        return obj['__pulumiType'] === Authenticator.__pulumiType;
    }

    /**
     * A value of true indicates that the administrator accepts the terms for creating a new authenticator. Okta requires that you accept the terms when creating a new customApp authenticator. Other authenticators don't require this field.
     */
    declare public readonly agreeToTerms: pulumi.Output<boolean | undefined>;
    /**
     * A human-readable string that identifies the authenticator. Some authenticators are available by feature flag on the organization. Possible values inclue: `customApp`, `customOtp`, `duo`, `externalIdp`, `googleOtp`, `oktaEmail`, `oktaPassword`, `oktaVerify`, `onpremMfa`, `phoneNumber`, `rsaToken`, `securityQuestion`, `webauthn`
     */
    declare public readonly key: pulumi.Output<string>;
    /**
     * Name does not trigger change detection (legacy behavior). Must be set to false for customApp authenticators.
     */
    declare public readonly legacyIgnoreName: pulumi.Output<boolean | undefined>;
    /**
     * Display name of the Authenticator
     */
    declare public readonly name: pulumi.Output<string>;
    /**
     * The RADIUS server port (for example 1812). This is defined when the On-Prem RADIUS server is configured. Used only for authenticators with type `securityKey`.  Conflicts with `providerJson` argument.
     */
    declare public readonly providerAuthPort: pulumi.Output<number | undefined>;
    /**
     * (DUO specific) - The Duo Security API hostname. Conflicts with `providerJson` argument.
     */
    declare public readonly providerHost: pulumi.Output<string | undefined>;
    /**
     * Server host name or IP address. Default is `localhost`. Used only for authenticators with type `securityKey`. Conflicts with `providerJson` argument.
     */
    declare public readonly providerHostname: pulumi.Output<string | undefined>;
    /**
     * App Instance ID.
     */
    declare public /*out*/ readonly providerInstanceId: pulumi.Output<string>;
    /**
     * (DUO specific) - The Duo Security integration key.  Conflicts with `providerJson` argument.
     */
    declare public readonly providerIntegrationKey: pulumi.Output<string | undefined>;
    /**
     * Provider JSON allows for expressive providervalues. This argument conflicts with the other 'provider_xxx' arguments. The [CreateProvider](https://developer.okta.com/docs/reference/api/authenticators-admin/#request) illustrates detailed provider values for a Duo authenticator. [Provider values](https://developer.okta.com/docs/reference/api/authenticators-admin/#authenticators-administration-api-object)are listed in Okta API.
     */
    declare public readonly providerJson: pulumi.Output<string | undefined>;
    /**
     * (DUO specific) - The Duo Security secret key.  Conflicts with `providerJson` argument.
     */
    declare public readonly providerSecretKey: pulumi.Output<string | undefined>;
    /**
     * An authentication key that must be defined when the RADIUS server is configured, and must be the same on both the RADIUS client and server. Used only for authenticators with type `securityKey`. Conflicts with `providerJson` argument.
     */
    declare public readonly providerSharedSecret: pulumi.Output<string | undefined>;
    /**
     * Provider type. Supported value for Duo: `DUO`. Supported value for Custom App: `PUSH`
     */
    declare public /*out*/ readonly providerType: pulumi.Output<string>;
    /**
     * Username template expected by the provider. Used only for authenticators with type `securityKey`.  Conflicts with `providerJson` argument.
     */
    declare public readonly providerUserNameTemplate: pulumi.Output<string | undefined>;
    /**
     * Settings for the authenticator. The settings JSON contains values based on Authenticator key. It is not used for authenticators with type `securityKey`
     */
    declare public readonly settings: pulumi.Output<string | undefined>;
    /**
     * Authenticator status: `ACTIVE` or `INACTIVE`. Default: `ACTIVE`
     */
    declare public readonly status: pulumi.Output<string | undefined>;
    /**
     * he type of Authenticator. Values include: `password`, `securityQuestion`, `phone`, `email`, `app`, `federated`, and `securityKey`.
     */
    declare public /*out*/ readonly type: pulumi.Output<string>;

    /**
     * Create a Authenticator resource with the given unique name, arguments, and options.
     *
     * @param name The _unique_ name of the resource.
     * @param args The arguments to use to populate this resource's properties.
     * @param opts A bag of options that control this resource's behavior.
     */
    constructor(name: string, args: AuthenticatorArgs, opts?: pulumi.CustomResourceOptions)
    constructor(name: string, argsOrState?: AuthenticatorArgs | AuthenticatorState, opts?: pulumi.CustomResourceOptions) {
        let resourceInputs: pulumi.Inputs = {};
        opts = opts || {};
        if (opts.id) {
            const state = argsOrState as AuthenticatorState | undefined;
            resourceInputs["agreeToTerms"] = state?.agreeToTerms;
            resourceInputs["key"] = state?.key;
            resourceInputs["legacyIgnoreName"] = state?.legacyIgnoreName;
            resourceInputs["name"] = state?.name;
            resourceInputs["providerAuthPort"] = state?.providerAuthPort;
            resourceInputs["providerHost"] = state?.providerHost;
            resourceInputs["providerHostname"] = state?.providerHostname;
            resourceInputs["providerInstanceId"] = state?.providerInstanceId;
            resourceInputs["providerIntegrationKey"] = state?.providerIntegrationKey;
            resourceInputs["providerJson"] = state?.providerJson;
            resourceInputs["providerSecretKey"] = state?.providerSecretKey;
            resourceInputs["providerSharedSecret"] = state?.providerSharedSecret;
            resourceInputs["providerType"] = state?.providerType;
            resourceInputs["providerUserNameTemplate"] = state?.providerUserNameTemplate;
            resourceInputs["settings"] = state?.settings;
            resourceInputs["status"] = state?.status;
            resourceInputs["type"] = state?.type;
        } else {
            const args = argsOrState as AuthenticatorArgs | undefined;
            if (args?.key === undefined && !opts.urn) {
                throw new Error("Missing required property 'key'");
            }
            resourceInputs["agreeToTerms"] = args?.agreeToTerms;
            resourceInputs["key"] = args?.key;
            resourceInputs["legacyIgnoreName"] = args?.legacyIgnoreName;
            resourceInputs["name"] = args?.name;
            resourceInputs["providerAuthPort"] = args?.providerAuthPort;
            resourceInputs["providerHost"] = args?.providerHost;
            resourceInputs["providerHostname"] = args?.providerHostname;
            resourceInputs["providerIntegrationKey"] = args?.providerIntegrationKey;
            resourceInputs["providerJson"] = args?.providerJson;
            resourceInputs["providerSecretKey"] = args?.providerSecretKey;
            resourceInputs["providerSharedSecret"] = args?.providerSharedSecret ? pulumi.secret(args.providerSharedSecret) : undefined;
            resourceInputs["providerUserNameTemplate"] = args?.providerUserNameTemplate;
            resourceInputs["settings"] = args?.settings;
            resourceInputs["status"] = args?.status;
            resourceInputs["providerInstanceId"] = undefined /*out*/;
            resourceInputs["providerType"] = undefined /*out*/;
            resourceInputs["type"] = undefined /*out*/;
        }
        opts = pulumi.mergeOptions(utilities.resourceOptsDefaults(), opts);
        const secretOpts = { additionalSecretOutputs: ["providerSharedSecret"] };
        opts = pulumi.mergeOptions(opts, secretOpts);
        super(Authenticator.__pulumiType, name, resourceInputs, opts);
    }
}

/**
 * Input properties used for looking up and filtering Authenticator resources.
 */
export interface AuthenticatorState {
    /**
     * A value of true indicates that the administrator accepts the terms for creating a new authenticator. Okta requires that you accept the terms when creating a new customApp authenticator. Other authenticators don't require this field.
     */
    agreeToTerms?: pulumi.Input<boolean>;
    /**
     * A human-readable string that identifies the authenticator. Some authenticators are available by feature flag on the organization. Possible values inclue: `customApp`, `customOtp`, `duo`, `externalIdp`, `googleOtp`, `oktaEmail`, `oktaPassword`, `oktaVerify`, `onpremMfa`, `phoneNumber`, `rsaToken`, `securityQuestion`, `webauthn`
     */
    key?: pulumi.Input<string>;
    /**
     * Name does not trigger change detection (legacy behavior). Must be set to false for customApp authenticators.
     */
    legacyIgnoreName?: pulumi.Input<boolean>;
    /**
     * Display name of the Authenticator
     */
    name?: pulumi.Input<string>;
    /**
     * The RADIUS server port (for example 1812). This is defined when the On-Prem RADIUS server is configured. Used only for authenticators with type `securityKey`.  Conflicts with `providerJson` argument.
     */
    providerAuthPort?: pulumi.Input<number>;
    /**
     * (DUO specific) - The Duo Security API hostname. Conflicts with `providerJson` argument.
     */
    providerHost?: pulumi.Input<string>;
    /**
     * Server host name or IP address. Default is `localhost`. Used only for authenticators with type `securityKey`. Conflicts with `providerJson` argument.
     */
    providerHostname?: pulumi.Input<string>;
    /**
     * App Instance ID.
     */
    providerInstanceId?: pulumi.Input<string>;
    /**
     * (DUO specific) - The Duo Security integration key.  Conflicts with `providerJson` argument.
     */
    providerIntegrationKey?: pulumi.Input<string>;
    /**
     * Provider JSON allows for expressive providervalues. This argument conflicts with the other 'provider_xxx' arguments. The [CreateProvider](https://developer.okta.com/docs/reference/api/authenticators-admin/#request) illustrates detailed provider values for a Duo authenticator. [Provider values](https://developer.okta.com/docs/reference/api/authenticators-admin/#authenticators-administration-api-object)are listed in Okta API.
     */
    providerJson?: pulumi.Input<string>;
    /**
     * (DUO specific) - The Duo Security secret key.  Conflicts with `providerJson` argument.
     */
    providerSecretKey?: pulumi.Input<string>;
    /**
     * An authentication key that must be defined when the RADIUS server is configured, and must be the same on both the RADIUS client and server. Used only for authenticators with type `securityKey`. Conflicts with `providerJson` argument.
     */
    providerSharedSecret?: pulumi.Input<string>;
    /**
     * Provider type. Supported value for Duo: `DUO`. Supported value for Custom App: `PUSH`
     */
    providerType?: pulumi.Input<string>;
    /**
     * Username template expected by the provider. Used only for authenticators with type `securityKey`.  Conflicts with `providerJson` argument.
     */
    providerUserNameTemplate?: pulumi.Input<string>;
    /**
     * Settings for the authenticator. The settings JSON contains values based on Authenticator key. It is not used for authenticators with type `securityKey`
     */
    settings?: pulumi.Input<string>;
    /**
     * Authenticator status: `ACTIVE` or `INACTIVE`. Default: `ACTIVE`
     */
    status?: pulumi.Input<string>;
    /**
     * he type of Authenticator. Values include: `password`, `securityQuestion`, `phone`, `email`, `app`, `federated`, and `securityKey`.
     */
    type?: pulumi.Input<string>;
}

/**
 * The set of arguments for constructing a Authenticator resource.
 */
export interface AuthenticatorArgs {
    /**
     * A value of true indicates that the administrator accepts the terms for creating a new authenticator. Okta requires that you accept the terms when creating a new customApp authenticator. Other authenticators don't require this field.
     */
    agreeToTerms?: pulumi.Input<boolean>;
    /**
     * A human-readable string that identifies the authenticator. Some authenticators are available by feature flag on the organization. Possible values inclue: `customApp`, `customOtp`, `duo`, `externalIdp`, `googleOtp`, `oktaEmail`, `oktaPassword`, `oktaVerify`, `onpremMfa`, `phoneNumber`, `rsaToken`, `securityQuestion`, `webauthn`
     */
    key: pulumi.Input<string>;
    /**
     * Name does not trigger change detection (legacy behavior). Must be set to false for customApp authenticators.
     */
    legacyIgnoreName?: pulumi.Input<boolean>;
    /**
     * Display name of the Authenticator
     */
    name?: pulumi.Input<string>;
    /**
     * The RADIUS server port (for example 1812). This is defined when the On-Prem RADIUS server is configured. Used only for authenticators with type `securityKey`.  Conflicts with `providerJson` argument.
     */
    providerAuthPort?: pulumi.Input<number>;
    /**
     * (DUO specific) - The Duo Security API hostname. Conflicts with `providerJson` argument.
     */
    providerHost?: pulumi.Input<string>;
    /**
     * Server host name or IP address. Default is `localhost`. Used only for authenticators with type `securityKey`. Conflicts with `providerJson` argument.
     */
    providerHostname?: pulumi.Input<string>;
    /**
     * (DUO specific) - The Duo Security integration key.  Conflicts with `providerJson` argument.
     */
    providerIntegrationKey?: pulumi.Input<string>;
    /**
     * Provider JSON allows for expressive providervalues. This argument conflicts with the other 'provider_xxx' arguments. The [CreateProvider](https://developer.okta.com/docs/reference/api/authenticators-admin/#request) illustrates detailed provider values for a Duo authenticator. [Provider values](https://developer.okta.com/docs/reference/api/authenticators-admin/#authenticators-administration-api-object)are listed in Okta API.
     */
    providerJson?: pulumi.Input<string>;
    /**
     * (DUO specific) - The Duo Security secret key.  Conflicts with `providerJson` argument.
     */
    providerSecretKey?: pulumi.Input<string>;
    /**
     * An authentication key that must be defined when the RADIUS server is configured, and must be the same on both the RADIUS client and server. Used only for authenticators with type `securityKey`. Conflicts with `providerJson` argument.
     */
    providerSharedSecret?: pulumi.Input<string>;
    /**
     * Username template expected by the provider. Used only for authenticators with type `securityKey`.  Conflicts with `providerJson` argument.
     */
    providerUserNameTemplate?: pulumi.Input<string>;
    /**
     * Settings for the authenticator. The settings JSON contains values based on Authenticator key. It is not used for authenticators with type `securityKey`
     */
    settings?: pulumi.Input<string>;
    /**
     * Authenticator status: `ACTIVE` or `INACTIVE`. Default: `ACTIVE`
     */
    status?: pulumi.Input<string>;
}
